(()=>{function n(e){document.querySelector("meta[name='theme-color']").setAttribute("content",e)}function r(e){localStorage.setItem("theme",e);let o=document.getElementById("current-theme");o&&o.remove();let s=document.getElementsByTagName("head")[0],t=document.createElement("link");t.rel="stylesheet",t.id="current-theme",t.type="text/css",t.href=e,s.appendChild(t),setTimeout(()=>{let i=getComputedStyle(document.documentElement).getPropertyValue("--mantle");localStorage.setItem("theme-base",i),n(i);let l=e==="/css/themes/light.css";console.log(l,document.getElementById("light")),document.getElementById("light").checked=l,document.getElementById("dark").checked=!l},33)}window.setTheme=r;window.setThemeMeta=r;var c=localStorage.getItem("theme")||"/static/css/themes/dark.css",a=localStorage.getItem("theme-base")||"##141414";r(c);n(a);window.onload=()=>{let e=document.getElementById("theme-select");e.value=c};"scrollRestoration"in history&&(history.scrollRestoration="auto");var m=async()=>{if("serviceWorker"in navigator)try{let e=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"});e.installing?console.log("Service worker installing"):e.waiting?console.log("Service worker installed"):e.active&&console.log("Service worker active"),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&e.update()})}catch(e){console.error(`Registration failed with ${e}`)}};m();})();
//# sourceMappingURL=base.js.map
