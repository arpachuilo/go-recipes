{
  "version": 3,
  "sources": ["../../js/search.js"],
  "sourcesContent": ["// focus search\nfunction slashToFocus(el) {\n  window.addEventListener(\"keydown\", (e) => {\n    if (document.activeElement === el) return;\n    if (e.code === \"Slash\") {\n      el.focus();\n      e.preventDefault();\n    }\n  });\n}\n\nwindow.slashToFocus = slashToFocus;\n\n// auto search limit size\nfunction setSearchLimit() {\n  let el = document.getElementById(\"search-results\");\n  if (el === null) return;\n  let name = \"search_limit\";\n  let value = Math.max(Math.floor(Math.min(1320, el.offsetWidth) / 200), 2) * 5;\n  let expiry = new Date();\n  let domain = window.location.hostname;\n  expiry.setMonth(expiry.getMonth() + 2);\n  let cookie = `${name}=${value};expires=${expiry};domain=${domain};path=/`;\n  document.cookie = cookie;\n}\n\nwindow.onload = function () {\n  if (!navigator.cookieEnabled) return;\n  const urlSearchParams = new URLSearchParams(window.location.search);\n  const params = Object.fromEntries(urlSearchParams.entries());\n  let el = document.getElementById(\"limit\");\n  if (\"limit\" in params) {\n    console.log(params.limit);\n    el.value = params.limit;\n  } else {\n    if (document.cookie.match(/^(.*;)?\\s*search_limit\\s*=\\s*[^;]+(.*)?$/)) {\n      el.value = \"auto\";\n    }\n  }\n\n  setSearchLimit();\n};\n\nif (navigator.cookieEnabled) {\n  window.onresize = setSearchLimit;\n}\n"],
  "mappings": "MACA,WAAsB,EAAI,CACxB,OAAO,iBAAiB,UAAW,AAAC,GAAM,CACxC,AAAI,SAAS,gBAAkB,GAC3B,EAAE,OAAS,SACb,GAAG,MAAM,EACT,EAAE,eAAe,EAErB,CAAC,CACH,CAEA,OAAO,aAAe,EAGtB,YAA0B,CACxB,GAAI,GAAK,SAAS,eAAe,gBAAgB,EACjD,GAAI,IAAO,KAAM,OACjB,GAAI,GAAO,eACP,EAAQ,KAAK,IAAI,KAAK,MAAM,KAAK,IAAI,KAAM,EAAG,WAAW,EAAI,GAAG,EAAG,CAAC,EAAI,EACxE,EAAS,GAAI,MACb,EAAS,OAAO,SAAS,SAC7B,EAAO,SAAS,EAAO,SAAS,EAAI,CAAC,EACrC,GAAI,GAAS,GAAG,KAAQ,aAAiB,YAAiB,WAC1D,SAAS,OAAS,CACpB,CAEA,OAAO,OAAS,UAAY,CAC1B,GAAI,CAAC,UAAU,cAAe,OAC9B,GAAM,GAAkB,GAAI,iBAAgB,OAAO,SAAS,MAAM,EAC5D,EAAS,OAAO,YAAY,EAAgB,QAAQ,CAAC,EACvD,EAAK,SAAS,eAAe,OAAO,EACxC,AAAI,SAAW,GACb,SAAQ,IAAI,EAAO,KAAK,EACxB,EAAG,MAAQ,EAAO,OAEd,SAAS,OAAO,MAAM,0CAA0C,GAClE,GAAG,MAAQ,QAIf,EAAe,CACjB,EAEA,AAAI,UAAU,eACZ,QAAO,SAAW",
  "names": []
}
